import{c as be,a as B,f as k}from"../chunks/BWuTmBTb.js";import"../chunks/C37nXNnH.js";import{a4 as ie,ab as _e,a5 as ce,h as g,P as oe,ae as W,af as ae,a1 as F,a2 as S,a3 as le,e as Ae,a0 as K,$ as we}from"../chunks/DKNTI6iC.js";import{s as ue}from"../chunks/DJ2WkK10.js";import{e as xe,i as Le}from"../chunks/Dx6G3CPg.js";import{h as ye}from"../chunks/CVjgEMhP.js";import{s as Se}from"../chunks/B9oGTDYG.js";import{i as me}from"../chunks/CZzk7QHQ.js";import{o as Ce,a as ne}from"../chunks/DYPmg0Nq.js";import{i as Ee}from"../chunks/eTvpvohU.js";import{s as se}from"../chunks/fUai8UT4.js";import{b as Pe}from"../chunks/DgURNtEw.js";var Fe=k('<div class="fallback svelte-17tprnl"> </div>'),Re=k('<canvas class="voxel-canvas svelte-17tprnl" aria-label="Voxel pyramid"></canvas>');function Me(q,G){ie(G,!1);const R=260,U=4;let h=oe(null),b=null,C=oe(""),M=!0;Ce(()=>{if(typeof window>"u"||!g(h))return;const e=g(h).getContext("webgl2",{antialias:!0,premultipliedAlpha:!0});if(!e){W(C,"WebGL2 not supported");return}const t=getComputedStyle(document.documentElement),r=()=>{const i=Y(t.getPropertyValue("--border")?.trim()||"#d5c4a1"),l=Y(t.getPropertyValue("--accent")?.trim()||"#d79921"),u=Y(t.getPropertyValue("--bg")?.trim()||"#1d2021"),P=[.46,.65,.35,1],H=p=>.299*p[0]+.587*p[1]+.114*p[2],D=H(i),O=H(l);return{outlineColor:H(u)<.4?(()=>{let p=D>O?i:l;return Math.max(D,O)<.35&&(p=[.9,.9,.9]),[p[0],p[1],p[2],1]})():(()=>{let p=D<O?i:l;return Math.min(D,O)>.5&&(p=[.3,.3,.3]),[p[0],p[1],p[2],1]})(),faceColor:[P[0],P[1],P[2],0]}};r();const o=z(),n=e.createVertexArray(),a=e.createBuffer();if(!n||!a){W(C,"WebGL buffers unavailable");return}const s=de(e,`#version 300 es
in vec3 a_pos;
uniform mat4 u_mvp;
void main() {
  gl_Position = u_mvp * vec4(a_pos, 1.0);
}
`,`#version 300 es
precision highp float;
uniform vec4 u_color;
out vec4 outColor;
void main() {
  outColor = u_color;
}
`);if(!s){W(C,"Shader compile failed");return}const d=e.getAttribLocation(s,"a_pos"),v=e.getUniformLocation(s,"u_mvp"),_=e.getUniformLocation(s,"u_color");e.bindVertexArray(n),e.bindBuffer(e.ARRAY_BUFFER,a),e.bufferData(e.ARRAY_BUFFER,new Float32Array(o.edges),e.STATIC_DRAW),e.enableVertexAttribArray(d),e.vertexAttribPointer(d,3,e.FLOAT,!1,0,0),e.bindVertexArray(null),e.enable(e.DEPTH_TEST),e.disable(e.CULL_FACE),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.clearColor(0,0,0,0);const L=E(Math.PI/3,1,.1,50);let A=0,y=performance.now(),I=!0;const w=()=>{if(!M){b=requestAnimationFrame(w);return}const i=performance.now();if(i-y<16){b=requestAnimationFrame(w);return}if(y=i,!g(h))return;const u=window.devicePixelRatio||1,P=Math.floor(R*u);(g(h).width!==P||g(h).height!==P)&&(ae(h,g(h).width=P),ae(h,g(h).height=P)),e.viewport(0,0,g(h).width,g(h).height),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),A+=.0045;const ee=$([1.8,1.8,3],[0,0,0],[0,1,0]),te=x(N(A*.6),x(X(-.5+Math.sin(A*.8)*.6),fe(A*.4))),p=x(ee,te),Z=x(L,p),{outlineColor:ge}=r();if(e.useProgram(s),e.bindVertexArray(n),e.uniformMatrix4fv(v,!1,Z),e.uniform4fv(_,new Float32Array(ge)),e.lineWidth(U*2),e.drawArrays(e.LINES,0,o.edges.length/3),e.bindVertexArray(null),I){const re=e.getError();re!==e.NO_ERROR?console.warn("VoxelCube: gl error code",re):console.info("VoxelCube: first frame drawn, edges:",o.edges.length/2),I=!1}b=requestAnimationFrame(w)};w();const T=()=>w(),V=()=>{M=!document.hidden,M&&b===null&&(y=performance.now(),w())},m=()=>{M=!0,b===null&&(y=performance.now(),w())};window.addEventListener("resize",T),document.addEventListener("visibilitychange",V),window.addEventListener("focus",m),ne(()=>{b!==null&&cancelAnimationFrame(b),window.removeEventListener("resize",T),document.removeEventListener("visibilitychange",V),window.removeEventListener("focus",m),e.deleteBuffer(a),e.deleteVertexArray(n),e.deleteProgram(s)})}),ne(()=>{b!==null&&cancelAnimationFrame(b)});function z(e){const t=(1+Math.sqrt(5))/2,r=[[1,1,1],[1,1,-1],[1,-1,1],[1,-1,-1],[-1,1,1],[-1,1,-1],[-1,-1,1],[-1,-1,-1],[0,1/t,t],[0,1/t,-t],[0,-1/t,t],[0,-1/t,-t],[1/t,t,0],[1/t,-t,0],[-1/t,t,0],[-1/t,-t,0],[t,0,1/t],[t,0,-1/t],[-t,0,1/t],[-t,0,-1/t]],o=[[0,8,10,2,16],[0,16,17,1,12],[0,12,14,4,8],[8,4,18,6,10],[10,6,15,13,2],[2,13,3,17,16],[1,9,11,3,17],[1,12,14,5,9],[4,14,5,19,18],[6,18,19,7,15],[3,11,7,15,13],[5,9,11,7,19]],n=new Set,a=[],f=(c,s)=>c<s?`${c}-${s}`:`${s}-${c}`;for(const c of o)for(let s=0;s<c.length;s++){const d=c[s],v=c[(s+1)%c.length],_=f(d,v);n.has(_)||(n.add(_),a.push(...r[d],...r[v]))}return{edges:a}}function j(){return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}function x(e,t){const r=new Float32Array(16),o=e[0],n=e[1],a=e[2],f=e[3],c=e[4],s=e[5],d=e[6],v=e[7],_=e[8],L=e[9],A=e[10],y=e[11],I=e[12],w=e[13],T=e[14],V=e[15];let m=t[0],i=t[1],l=t[2],u=t[3];return r[0]=m*o+i*c+l*_+u*I,r[1]=m*n+i*s+l*L+u*w,r[2]=m*a+i*d+l*A+u*T,r[3]=m*f+i*v+l*y+u*V,m=t[4],i=t[5],l=t[6],u=t[7],r[4]=m*o+i*c+l*_+u*I,r[5]=m*n+i*s+l*L+u*w,r[6]=m*a+i*d+l*A+u*T,r[7]=m*f+i*v+l*y+u*V,m=t[8],i=t[9],l=t[10],u=t[11],r[8]=m*o+i*c+l*_+u*I,r[9]=m*n+i*s+l*L+u*w,r[10]=m*a+i*d+l*A+u*T,r[11]=m*f+i*v+l*y+u*V,m=t[12],i=t[13],l=t[14],u=t[15],r[12]=m*o+i*c+l*_+u*I,r[13]=m*n+i*s+l*L+u*w,r[14]=m*a+i*d+l*A+u*T,r[15]=m*f+i*v+l*y+u*V,r}function E(e,t,r,o){const n=1/Math.tan(e/2),a=1/(r-o);return new Float32Array([n/t,0,0,0,0,n,0,0,0,0,(o+r)*a,-1,0,0,2*o*r*a,0])}function $(e,t,r){const o=j();let n=e[0]-t[0],a=e[1]-t[1],f=e[2]-t[2],c=Math.hypot(n,a,f);c===0?f=1:(n/=c,a/=c,f/=c);let s=r[1]*f-r[2]*a,d=r[2]*n-r[0]*f,v=r[0]*a-r[1]*n;c=Math.hypot(s,d,v),c!==0&&(s/=c,d/=c,v/=c);const _=a*v-f*d,L=f*s-n*v,A=n*d-a*s;return o[0]=s,o[1]=_,o[2]=n,o[3]=0,o[4]=d,o[5]=L,o[6]=a,o[7]=0,o[8]=v,o[9]=A,o[10]=f,o[11]=0,o[12]=-(s*e[0]+d*e[1]+v*e[2]),o[13]=-(_*e[0]+L*e[1]+A*e[2]),o[14]=-(n*e[0]+a*e[1]+f*e[2]),o[15]=1,o}function N(e){const t=Math.sin(e),r=Math.cos(e);return new Float32Array([r,0,t,0,0,1,0,0,-t,0,r,0,0,0,0,1])}function X(e){const t=Math.sin(e),r=Math.cos(e);return new Float32Array([1,0,0,0,0,r,-t,0,0,t,r,0,0,0,0,1])}function fe(e){const t=Math.sin(e),r=Math.cos(e);return new Float32Array([r,t,0,0,-t,r,0,0,0,0,1,0,0,0,0,1])}function Y(e){if(e.startsWith("#")){const r=e.replace("#","");if(r.length===6){const o=parseInt(r.slice(0,2),16)/255,n=parseInt(r.slice(2,4),16)/255,a=parseInt(r.slice(4,6),16)/255;return[o,n,a]}}const t=e.match(/rgb\\s*\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)/i);return t?[parseInt(t[1],10)/255,parseInt(t[2],10)/255,parseInt(t[3],10)/255]:[.8,.8,.8]}function de(e,t,r){const o=J(e,e.VERTEX_SHADER,t),n=J(e,e.FRAGMENT_SHADER,r);if(!o||!n)return null;const a=e.createProgram();return a?(e.attachShader(a,o),e.attachShader(a,n),e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)?a:(console.error("Program link error",e.getProgramInfoLog(a)),null)):null}function J(e,t,r){const o=e.createShader(t);return o?(e.shaderSource(o,r),e.compileShader(o),e.getShaderParameter(o,e.COMPILE_STATUS)?o:(console.error("Shader compile error",e.getShaderInfoLog(o)),e.deleteShader(o),null)):null}me();var Q=be(),he=_e(Q);{var ve=e=>{var t=Fe();se(t,`width:${R}px;height:${R}px;`);var r=F(t,!0);S(t),le(()=>ue(r,g(C))),B(e,t)},pe=e=>{var t=Re();se(t,`width:${R}px;height:${R}px;`),Pe(t,r=>W(h,r),()=>g(h)),B(e,t)};Ee(he,e=>{g(C)?e(ve):e(pe,!1)})}B(q,Q),ce()}var Ie=k('<meta name="description" content="The minimal homepage for aaron."/>'),Te=k('<li><a class="svelte-1uha8ag"><span aria-hidden="true" class="line svelte-1uha8ag"></span> </a></li>'),Ve=k('<main class="svelte-1uha8ag"><section class="hero svelte-1uha8ag" aria-labelledby="name"><div class="hero-text svelte-1uha8ag"><p class="eyebrow svelte-1uha8ag">home</p> <h1 id="name" class="svelte-1uha8ag">aaron</h1> <nav aria-label="Primary" class="svelte-1uha8ag"><ul class="svelte-1uha8ag"></ul></nav></div> <div class="hero-visual svelte-1uha8ag"><!></div></section></main>');function je(q,G){ie(G,!1);const R=[{label:"Gallery",href:"/gallery"},{label:"About",href:"/about"},{label:"Projects",href:"/projects"},{label:"Blog",href:"/blog"}].sort((x,E)=>x.label.localeCompare(E.label));me();var U=Ve();ye("1uha8ag",x=>{var E=Ie();Ae(()=>{we.title="aaron â€” homepage"}),B(x,E)});var h=F(U),b=F(h),C=K(F(b),4),M=F(C);xe(M,5,()=>R,Le,(x,E)=>{var $=Te(),N=F($),X=K(F(N));S(N),S($),le(()=>{Se(N,"href",g(E).href),ue(X,` ${g(E).label??""}`)}),B(x,$)}),S(M),S(C),S(b);var z=K(b,2),j=F(z);Me(j,{}),S(z),S(h),S(U),B(q,U),ce()}export{je as component};
